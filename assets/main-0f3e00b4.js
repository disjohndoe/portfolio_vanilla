import"./utils-0bfd2f6e.js";const Be=()=>{const e=document.querySelector(".header__bars"),o=document.querySelector(".mobile-nav"),l=document.querySelectorAll(".mobile-nav__link"),i=document.querySelector(".mobile-nav__close");let f=!1;const r=()=>{f=!0,o.style.display="flex",o.style.animation="slideIn 0.3s forwards",document.body.style.overflowY="hidden"},y=()=>{f=!1,o.style.animation="slideOut 0.3s forwards",setTimeout(()=>{o.style.display="none",document.body.style.overflowY="auto"},300)},d=document.createElement("style");d.innerHTML=`
    @keyframes slideIn {
      from { transform: translateX(100%); }
      to { transform: translateX(0); }
    }
    
    @keyframes slideOut {
      from { transform: translateX(0); }
      to { transform: translateX(100%); }
    }
    
    .mobile-nav {
      transform: translateX(100%);
    }
  `,document.head.appendChild(d),e.addEventListener("click",r),i.addEventListener("click",y),l.forEach(g=>{g.addEventListener("click",y)}),document.addEventListener("keydown",g=>{g.key==="Escape"&&f&&y()}),document.addEventListener("click",g=>{f&&!o.contains(g.target)&&g.target!==e&&y()})},Ne=()=>{const e=document.querySelectorAll("#theme-toggle"),o=localStorage.getItem("theme");o&&document.body.classList.add(o);const l=()=>{document.body.classList.toggle("light-mode"),document.body.classList.contains("light-mode")?localStorage.setItem("theme","light-mode"):(localStorage.removeItem("theme"),document.body.removeAttribute("class"))};e.forEach(i=>i.addEventListener("click",l))},qe=()=>{const e=document.querySelectorAll(".lazy"),o=new IntersectionObserver((l,i)=>{l.forEach(f=>{if(f.isIntersecting){let r=f.target;r.src=r.dataset.src,r.classList.remove("loading"),r.classList.add("loaded"),i.unobserve(r)}})});e.forEach(l=>{o.observe(l)})},Fe=()=>{const e=document.querySelectorAll(".section"),o=new IntersectionObserver(r=>{r.forEach(y=>{y.isIntersecting&&(y.target.style.opacity="1",y.target.style.transform="translateY(0)",o.unobserve(y.target))})},{threshold:.2});e.forEach(r=>{r.style.opacity="0",r.style.transform="translateY(20px)",r.style.transition="opacity 0.5s ease, transform 0.5s ease",o.observe(r)}),document.querySelectorAll(".skill-badge").forEach((r,y)=>{r.style.opacity="0",r.style.transform="translateY(10px)",r.style.transition="opacity 0.3s ease, transform 0.3s ease",setTimeout(()=>{r.style.opacity="1",r.style.transform="translateY(0)"},100*y)});const i=document.querySelector(".hero__subtitle");i&&(i.style.opacity="0",i.style.transform="translateY(-10px)",i.style.transition="opacity 0.5s ease, transform 0.5s ease",setTimeout(()=>{i.style.opacity="1",i.style.transform="translateY(0)"},300));const f=document.querySelector(".hero__title");if(f){const r=f.textContent;f.textContent="",f.style.opacity="1";const y=document.createElement("span");y.className="text-gradient",f.appendChild(y);let d=0;const g=()=>{d<r.length&&(y.textContent+=r.charAt(d),d++,setTimeout(g,50))};setTimeout(g,800)}},Oe=()=>{if(!window.THREE){console.error("THREE.js not loaded for background");return}const e=window.THREE;if(!document.body)return;const o=document.createElement("div");o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.backgroundColor="rgb(7, 10, 19)",o.style.zIndex="-2",document.body.prepend(o);const l=document.createElement("canvas");l.classList.add("three-canvas"),l.style.position="fixed",l.style.top="0",l.style.left="0",l.style.width="100%",l.style.height="100%",l.style.zIndex="-1",l.style.pointerEvents="none",document.body.prepend(l);try{let i=function(){const a=document.createElement("canvas");a.width=256,a.height=256;const x=a.getContext("2d"),m=a.width/2,E=a.height/2,T=a.width/2,k=x.createRadialGradient(m,E,0,m,E,T);return k.addColorStop(0,"#FFEE33"),k.addColorStop(.7,"#FFCC22"),k.addColorStop(1,"#FF9900"),x.fillStyle=k,x.fillRect(0,0,a.width,a.height),a},f=function(){const a=document.createElement("canvas");a.width=64,a.height=256;const x=a.getContext("2d"),m=x.createLinearGradient(32,0,32,256);return m.addColorStop(0,"#FFEE33"),m.addColorStop(.6,"#FFCC22"),m.addColorStop(1,"#FFAA11"),x.fillStyle=m,x.fillRect(0,0,a.width,a.height),a};const r=document.body.classList.contains("light-mode");o.style.backgroundColor=r?"rgb(241, 245, 249)":"rgb(7, 10, 19)";const y=new e.Scene,d=new e.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),g=new e.WebGLRenderer({canvas:l,alpha:!0,antialias:!0,powerPreference:"high-performance"});g.setSize(window.innerWidth,window.innerHeight),g.setPixelRatio(Math.min(window.devicePixelRatio,1.5));const G=new e.BufferGeometry,R=2e3,u=new Float32Array(R*3),C=new Float32Array(R*3),W=new Float32Array(R),N=new e.Color(4415982),A=new e.Color(16711782),de=new e.Color(16777215);for(let a=0;a<R;a++){u[a*3]=(Math.random()-.5)*20,u[a*3+1]=(Math.random()-.5)*20,u[a*3+2]=(Math.random()-.5)*20;const x=Math.random();W[a]=x*.1+.01;const m=new e.Color;if(Math.random()>.7){const E=Math.random()>.5?N.clone():A.clone();m.copy(E).lerp(de,.3+Math.random()*.4)}else m.copy(de).lerp(new e.Color(11193599),Math.random()*.3);C[a*3]=m.r,C[a*3+1]=m.g,C[a*3+2]=m.b}G.setAttribute("position",new e.BufferAttribute(u,3)),G.setAttribute("color",new e.BufferAttribute(C,3)),G.setAttribute("size",new e.BufferAttribute(W,1));const q=`
      attribute float size;
      varying vec3 vColor;
      
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
        gl_PointSize = size * (300.0 / -mvPosition.z);
        gl_Position = projectionMatrix * mvPosition;
      }
    `,v=`
      varying vec3 vColor;
      
      void main() {
        // Calculate distance from center of point
        float r = distance(gl_PointCoord, vec2(0.5, 0.5));
        
        // Softer, more natural star glow effect
        float alpha = 1.0 - smoothstep(0.2, 0.5, r);
        
        // Star core
        if (r < 0.25) {
          gl_FragColor = vec4(vColor, alpha * 1.0);
        } 
        // Star glow
        else {
          gl_FragColor = vec4(vColor, alpha * 0.6);
        }
      }
    `,S=new e.ShaderMaterial({uniforms:{},vertexShader:q,fragmentShader:v,transparent:!0,vertexColors:!0,depthWrite:!1,blending:e.AdditiveBlending}),b=new e.Points(G,S);y.add(b);const _=new e.Group;_.position.set(-5,4,-8),y.add(_);const I=new e.CircleGeometry(1.5,32),O=new e.CanvasTexture(i()),F=new e.MeshBasicMaterial({map:O,transparent:!0,opacity:.9,side:e.DoubleSide}),V=new e.Mesh(I,F);_.add(V);const ve=new e.CircleGeometry(.18,32),H=new e.MeshBasicMaterial({color:3355443}),Z=new e.Mesh(ve,H);Z.position.set(-.5,.3,.01),V.add(Z);const j=new e.CircleGeometry(.18,32),oe=new e.Mesh(j,H);oe.position.set(.5,.3,.01),V.add(oe);const Se=new e.CircleGeometry(.05,32),Y=new e.MeshBasicMaterial({color:16777215}),Ce=new e.Mesh(Se,Y);Ce.position.set(-.45,.35,.02),V.add(Ce);const Ee=new e.CircleGeometry(.05,32),re=new e.Mesh(Ee,Y);re.position.set(.55,.35,.02),V.add(re);const Te=new e.EllipseCurve(0,-.1,.7,.4,0,Math.PI,!0,0).getPoints(20),ze=new e.BufferGeometry().setFromPoints(Te),Me=new e.LineBasicMaterial({color:3355443,linewidth:3}),ae=new e.Line(ze,Me);ae.position.set(0,0,.01),V.add(ae);const ye=new e.CircleGeometry(.15,32),L=new e.MeshBasicMaterial({color:16751001,transparent:!0,opacity:.4}),w=new e.Mesh(ye,L);w.position.set(-.7,-.25,.01),V.add(w);const Ie=new e.CircleGeometry(.15,32),ne=new e.Mesh(Ie,L);ne.position.set(.7,-.25,.01),V.add(ne);const he=new e.Group,K=12;for(let a=0;a<K;a++){const x=a/K*Math.PI*2,m=new e.Shape;m.moveTo(0,0),m.lineTo(-.25,1.8),m.lineTo(0,2.2),m.lineTo(.25,1.8),m.lineTo(0,0);const E=new e.ShapeGeometry(m),T=new e.CanvasTexture(f()),k=new e.MeshBasicMaterial({map:T,transparent:!0,opacity:.8,side:e.DoubleSide}),M=new e.Mesh(E,k);M.position.set(0,0,-.01),M.rotation.z=x,he.add(M)}_.add(he);const B=(a,x,m,E)=>{const T=new e.Group,k=new e.CircleGeometry(.7,16),M=new e.MeshBasicMaterial({color:16777215,transparent:!0,opacity:.9,side:e.DoubleSide}),X=new e.Mesh(k,M);return T.add(X),[{x:.6,y:.4,z:0,s:.6},{x:-.5,y:.3,z:0,s:.7},{x:.2,y:-.4,z:0,s:.5},{x:-.4,y:-.2,z:0,s:.6},{x:.5,y:.2,z:0,s:.55}].forEach(D=>{const $=new e.CircleGeometry(D.s,16),xe=new e.Mesh($,M);xe.position.set(D.x,D.y,D.z),T.add(xe)}),T.position.set(a,x,m),T.scale.set(E,E,E),T},h=[B(-10,3,-12,1.5),B(-6,-2,-15,2),B(8,2,-10,1.7),B(12,-3,-12,2.2),B(5,5,-18,3)];h.forEach(a=>y.add(a));const Q=a=>{b.visible=!a,_.visible=a,h.forEach(x=>x.visible=a)};Q(r);const me=new MutationObserver(a=>{a.forEach(x=>{if(x.attributeName==="class"){const m=document.body.classList.contains("light-mode");o.style.backgroundColor=m?"rgb(241, 245, 249)":"rgb(7, 10, 19)",Q(m)}})});me.observe(document.body,{attributes:!0}),d.position.z=6;const ee={x:0,y:0};document.addEventListener("mousemove",a=>{ee.x=a.clientX/window.innerWidth*2-1,ee.y=-(a.clientY/window.innerHeight*2-1)});const se={y:0,lastScrollTop:0,direction:0};window.addEventListener("scroll",()=>{const a=window.pageYOffset||document.documentElement.scrollTop;se.y=a/1e3,se.direction=a>se.lastScrollTop?1:-1,se.lastScrollTop=a<=0?0:a});const be=()=>{d.aspect=window.innerWidth/window.innerHeight,d.updateProjectionMatrix(),g.setSize(window.innerWidth,window.innerHeight),g.setPixelRatio(Math.min(window.devicePixelRatio,1.5))};window.addEventListener("resize",be);const ue=new e.Clock;let we,le=Math.random()*5;const fe=()=>{we=requestAnimationFrame(fe);try{const a=ue.getElapsedTime();if(document.body.classList.contains("light-mode")){if(he.rotation.z=a*.3,_.position.y=4+Math.sin(a*1.2)*.25,he.children.forEach((k,M)=>{const X=M*(Math.PI/6),ce=1+Math.sin(a*1.5+X)*.15,D=1+Math.sin(a*.8+X)*.1;k.scale.set(ce,D,1)}),le-=ue.getDelta(),le<=0){const M=Date.now(),X=setInterval(()=>{const D=(Date.now()-M)/150;if(D>=1)clearInterval(X),Z.scale.y=1,oe.scale.y=1,le=2+Math.random()*3;else{const $=Math.abs(Math.sin(D*Math.PI));Z.scale.y=1-$*.9,oe.scale.y=1-$*.9}},16)}const m=Math.sin(a*1.2)*.05;ae.position.y=-.1+m,ae.scale.y=1-Math.sin(a)*.05,ae.scale.x=1+Math.sin(a*.8)*.03;const E=1+Math.sin(a*1)*.15;if(w.scale.set(E,E,1),ne.scale.set(E,E,1),Math.random()>.9995){const k=Date.now(),M=250,X=setInterval(()=>{const D=(Date.now()-k)/M;if(D>=1)clearInterval(X),Z.scale.y=1,oe.scale.y=1;else{const $=Math.sin(D*Math.PI);Z.scale.y=1-$*.9,oe.scale.y=1-$*.9}},16)}const T=-5+ee.x*.8;_.position.x+=(T-_.position.x)*.02,h.forEach((k,M)=>{k.position.x+=Math.sin(a*.2+M)*.003,k.position.y+=Math.cos(a*.3+M*.5)*.002,k.rotation.z=Math.sin(a*.1+M)*.05})}else{b.rotation.y=a*.03,b.rotation.x=a*.02,b.position.y=-se.y*.5,b.rotation.y+=(ee.x*.01-b.rotation.y)*.1,b.rotation.x+=(ee.y*.01-b.rotation.x)*.1;const m=G.attributes.size.array;for(let E=0;E<R;E++)if(Math.random()>.995){const T=m[E];m[E]=T*(1+Math.sin(a*10)*.5),setTimeout(()=>{G.attributes.size&&(m[E]=T,G.attributes.size.needsUpdate=!0)},150)}G.attributes.size.needsUpdate=!0}g.render(y,d)}catch(a){console.error("Animation error:",a),cancelAnimationFrame(we)}};return fe(),()=>{cancelAnimationFrame(we),window.removeEventListener("resize",be),window.removeEventListener("scroll",()=>{}),me.disconnect(),G.dispose(),S.dispose(),I.dispose(),F.dispose(),_.children.forEach(a=>{a.geometry&&a.geometry.dispose(),a.material&&a.material.dispose()}),h.forEach(a=>{a.children.forEach(x=>{x.geometry&&x.geometry.dispose(),x.material&&x.material.dispose()})}),g.dispose(),l.parentNode&&l.parentNode.removeChild(l),o.parentNode&&o.parentNode.removeChild(o)}}catch(i){return console.error("Error initializing Three.js background:",i),l.parentNode&&l.parentNode.removeChild(l),null}},je=()=>{if(!window.THREE){console.error("THREE.js not loaded for skills globe");return}const e=window.THREE;if(!document.querySelector(".about"))return;const o=document.createElement("canvas");o.classList.add("skills-globe"),o.classList.add("three-canvas-container");const l=document.querySelector(".skills-container");if(!l)return;const i={frontend:{color:43775,name:"Frontend"},backend:{color:16733440,name:"Backend"},tools:{color:8965120,name:"Tools"},framework:{color:11158783,name:"Frameworks"}},f=[];document.querySelectorAll(".skill-badge").forEach(t=>{const n=t.textContent.trim(),s=t.querySelector("i")?t.querySelector("i").className:"";let c="frontend";n.includes("Python")||n.includes("REST")?c="backend":n.includes("Git")||n.includes("WordPress")?c="tools":(n.includes("React")||n.includes("Redux")||n.includes("Bootstrap"))&&(c="framework"),f.push({name:n,icon:s,category:c,color:i[c].color})});const r=document.createElement("div");r.className="globe-container",r.style.position="relative",r.style.width="100%";const y=()=>{const t=window.innerWidth;let n="600px";t<=480?n="350px":t<=600?n="400px":t<=768?n="450px":t<=992&&(n="500px"),r.style.height=n};y(),r.style.zIndex="100",r.style.isolation="isolate",r.style.borderRadius="var(--radius-lg)",r.style.backgroundColor="rgb(7, 10, 19)",r.style.overflow="hidden",r.style.boxShadow="0 0 40px rgba(67, 97, 238, 0.3)",r.style.marginTop="var(--spacing-xl)",r.style.marginBottom="var(--spacing-xl)",r.style.display="flex",r.style.justifyContent="center",r.style.alignItems="center",r.appendChild(o);const d=document.createElement("div");d.style.position="relative",d.style.zIndex="99",d.style.isolation="isolate",d.appendChild(r);const g=document.createElement("div");g.className="skills-info-display",l.parentNode.replaceChild(d,l);const G=document.querySelector(".about"),R=document.querySelector(".about__content"),u=document.createElement("div");u.style.position="relative",u.style.display="flex",u.style.justifyContent="center",u.style.width="100%",u.className="globe-skills-wrapper",R?(G.insertBefore(u,R.nextSibling),d.parentNode.removeChild(d),u.appendChild(d)):(l.parentNode.insertBefore(u,l.nextSibling),d.parentNode.removeChild(d),u.appendChild(d)),u.appendChild(g);const C=document.createElement("div");C.textContent="My Skills",C.style.textAlign="center",C.style.fontWeight="bold",C.style.fontSize="16px",C.style.marginBottom="10px",C.style.borderBottom="1px solid rgba(255,255,255,0.3)",C.style.paddingBottom="5px",g.appendChild(C);const W=document.createElement("div");W.textContent="Click on a sphere to highlight a skill:",W.style.fontSize="12px",W.style.marginBottom="10px",W.style.opacity="0.8",g.appendChild(W);const N=document.createElement("div");N.className="category-filters",N.style.display="flex",N.style.flexWrap="wrap",N.style.gap="5px",N.style.marginBottom="10px";const A=document.createElement("div");A.className="category-filter active",A.textContent="All",A.dataset.category="all",A.style.padding="3px 8px",A.style.backgroundColor="rgba(255,255,255,0.2)",A.style.borderRadius="5px",A.style.fontSize="12px",A.style.cursor="pointer",A.style.transition="all 0.2s ease",N.appendChild(A),Object.entries(i).forEach(([t,n])=>{const s=document.createElement("div");s.className="category-filter",s.textContent=n.name,s.dataset.category=t,s.style.padding="3px 8px",s.style.backgroundColor="rgba(255,255,255,0.1)",s.style.borderRadius="5px",s.style.fontSize="12px",s.style.cursor="pointer",s.style.transition="all 0.2s ease";const c=document.createElement("span");c.style.display="inline-block",c.style.width="8px",c.style.height="8px",c.style.borderRadius="50%",c.style.backgroundColor="#"+n.color.toString(16).padStart(6,"0"),c.style.marginRight="5px",s.prepend(c),N.appendChild(s)}),g.appendChild(N);const de=document.createElement("div");de.className="skills-list",g.appendChild(de),f.forEach((t,n)=>{const s=document.createElement("div");s.className="skill-item",s.dataset.index=n,s.dataset.category=t.category;const c=document.createElement("i");c.className=t.icon,c.style.marginRight="5px",c.style.color="#"+t.color.toString(16).padStart(6,"0");const p=document.createElement("span");p.textContent=t.name,s.appendChild(c),s.appendChild(p),s.style.padding="6px 10px",s.style.margin="5px 0",s.style.borderRadius="5px",s.style.transition="all 0.2s ease",s.style.cursor="pointer",s.style.backgroundColor="rgba(0,0,0,0.3)",s.style.display="flex",s.style.alignItems="center",s.addEventListener("mouseover",()=>{s.style.backgroundColor=`rgba(${t.color>>16&255}, ${t.color>>8&255}, ${t.color&255}, 0.3)`}),s.addEventListener("mouseout",()=>{s.dataset.selected!=="true"&&(s.style.backgroundColor="rgba(0,0,0,0.3)")}),de.appendChild(s)});const q=document.createElement("div");q.className="three-loading",q.id="globe-loading-indicator",q.style.position="absolute",q.style.top="50%",q.style.left="50%",q.style.transform="translate(-50%, -50%)",q.style.width="40px",q.style.height="40px",q.style.zIndex="105",q.innerHTML='<div style="position: absolute; width: 40px; height: 40px; border-radius: 50%; border: 3px solid rgba(255, 255, 255, 0.1); border-top-color: #4361ee; animation: spin 1s linear infinite;"></div>',r.appendChild(q);const v=document.createElement("div");v.className="focused-skill-popup",v.style.position="absolute",v.style.padding="5px 10px",v.style.borderRadius="4px",v.style.fontSize="14px",v.style.fontWeight="bold",v.style.color="white",v.style.zIndex="105",v.style.display="none",r.appendChild(v);const S=document.createElement("div");S.className="globe-instructions",S.style.position="absolute",S.style.bottom="15px",S.style.left="15px",S.style.padding="5px 12px",S.style.backgroundColor="rgba(0,0,0,0.6)",S.style.color="rgba(255,255,255,0.7)",S.style.borderRadius="15px",S.style.fontSize="12px",S.style.pointerEvents="none",S.style.zIndex="102",S.innerHTML="Move mouse to rotate • Click skills to focus",window.innerWidth<=480&&(S.style.display="none"),r.appendChild(S);const b=document.createElement("div");b.className="proficiency-legend",b.style.position="absolute",b.style.bottom="15px",b.style.right="15px",b.style.padding="5px 12px",b.style.backgroundColor="rgba(0,0,0,0.6)",b.style.color="rgba(255,255,255,0.7)",b.style.borderRadius="15px",b.style.fontSize="12px",b.style.display="flex",b.style.gap="10px",b.style.alignItems="center",b.style.zIndex="102",window.innerWidth<=480&&(b.style.display="none"),[{size:"Small",text:"Familiar"},{size:"Medium",text:"Proficient"},{size:"Large",text:"Expert"}].forEach(t=>{const n=document.createElement("div");n.style.display="flex",n.style.alignItems="center",n.style.gap="5px";const s=document.createElement("div");s.style.width=t.size==="Small"?"8px":t.size==="Medium"?"12px":"16px",s.style.height=s.style.width,s.style.borderRadius="50%",s.style.backgroundColor="rgba(0, 170, 255, 0.7)";const c=document.createElement("span");c.textContent=t.text,n.appendChild(s),n.appendChild(c),b.appendChild(n)}),r.appendChild(b);const I=document.createElement("div");I.className="globe-fallback",I.style.position="absolute",I.style.top="50%",I.style.left="50%",I.style.transform="translate(-50%, -50%)",I.style.textAlign="center",I.style.color="white",I.style.fontSize="14px",I.style.padding="20px",I.style.zIndex="104",I.style.display="none",I.innerHTML="Interactive 3D skills globe<br>Explore my tech stack!",r.appendChild(I);const O=()=>{document.querySelectorAll(".three-loading, #globe-loading-indicator").forEach(n=>{n&&n.parentNode&&n.parentNode.removeChild(n)})},F=new e.Scene,V=new e.AmbientLight(16777215,.5);F.add(V);const ve=new e.DirectionalLight(16777215,.8);ve.position.set(5,5,5),F.add(ve);const H=new e.PerspectiveCamera(75,o.clientWidth/o.clientHeight,.1,1e3),Z=()=>{const t=window.innerWidth;t<=480?H.position.z=8.5:t<=768?H.position.z=7.5:H.position.z=6.5};Z();let j;try{if(j=new e.WebGLRenderer({canvas:o,alpha:!0,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1}),!j.capabilities.isWebGL2&&!j.capabilities.isWebGL)throw new Error("WebGL not supported");j.setSize(o.clientWidth,o.clientHeight),j.setPixelRatio(Math.min(window.devicePixelRatio,1.5)),j.setClearColor(0,0),setTimeout(O,1e3)}catch(t){console.warn("WebGL initialization failed:",t),I.style.display="block",O();const n=o.getContext("2d");if(n){const s=n.createLinearGradient(0,0,o.width,o.height);s.addColorStop(0,"#070a13"),s.addColorStop(1,"#101426"),n.fillStyle=s,n.fillRect(0,0,o.width,o.height),n.beginPath(),n.arc(o.width/2,o.height/2,o.width/4,0,Math.PI*2),n.strokeStyle="#4361ee",n.lineWidth=2,n.stroke();const c=["HTML","CSS","JS","React"];c.forEach((p,te)=>{const U=te/c.length*Math.PI*2,z=o.width/2+Math.cos(U)*(o.width/5),J=o.height/2+Math.sin(U)*(o.width/5);n.beginPath(),n.arc(z,J,8,0,Math.PI*2),n.fillStyle="#00aaff",n.fill()})}return}o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.zIndex="101",o.style.display="block";const oe=new e.SphereGeometry(2.5,32,32),Se=new e.MeshBasicMaterial({color:3355443,wireframe:!0,transparent:!0,opacity:.3}),Y=new e.Mesh(oe,Se);F.add(Y);const Ce=new e.SphereGeometry(2.56,32,32),Ee=new e.ShaderMaterial({uniforms:{glowColor:{value:new e.Color(4415982)},viewVector:{value:new e.Vector3(0,0,1)}},vertexShader:`
      uniform vec3 viewVector;
      varying float intensity;
      void main() {
        vec3 vNormal = normalize(normalMatrix * normal);
        vec3 vNormel = normalize(normalMatrix * viewVector);
        intensity = pow(1.0 - dot(vNormal, vNormel), 2.0);
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
      }
    `,fragmentShader:`
      uniform vec3 glowColor;
      varying float intensity;
      void main() {
        vec3 glow = glowColor * intensity;
        gl_FragColor = vec4(glow, 0.3);
      }
    `,side:e.BackSide,blending:e.AdditiveBlending,transparent:!0}),re=new e.Mesh(Ce,Ee);F.add(re);const Le=new e.BufferGeometry,Te=new e.PointsMaterial({color:16777215,size:.05,transparent:!0}),ze=()=>{const t=window.innerWidth;return t<=480?300:t<=768?500:1e3},Me=[],ae=ze();for(let t=0;t<ae;t++){const n=(Math.random()-.5)*30,s=(Math.random()-.5)*30,c=(Math.random()-.5)*30;Me.push(n,s,c)}Le.setAttribute("position",new e.Float32BufferAttribute(Me,3));const ye=new e.Points(Le,Te);F.add(ye);const L=[],w=g.querySelectorAll(".skill-item"),Ie=(t,n)=>t.name.includes("HTML")||t.name.includes("CSS")||t.name.includes("JavaScript")?.85:t.name.includes("React")||t.name.includes("Git")?.7:.55,ne={};Object.keys(i).forEach((t,n)=>{const s=new e.TorusGeometry(2.85+n*.12,.025,16,100),c=new e.MeshBasicMaterial({color:i[t].color,transparent:!0,opacity:.3}),p=new e.Mesh(s,c);p.rotation.x=Math.PI/2,p.rotation.y=n*Math.PI/6,p.userData={category:t},ne[t]=p,F.add(p)}),f.forEach((t,n)=>{const s=Ie(t),c=.15+s*.15,p=window.innerWidth<=480?8:16,te=new e.SphereGeometry(c,p,p),U=new e.MeshPhongMaterial({color:t.color,specular:16777215,shininess:100,transparent:!0,opacity:.9}),z=new e.Mesh(te,U),J=Math.acos(-1+2*n/f.length),ge=Math.sqrt(f.length*Math.PI)*J;z.position.x=2.5*Math.cos(ge)*Math.sin(J),z.position.y=2.5*Math.sin(ge)*Math.sin(J),z.position.z=2.5*Math.cos(J),z.userData={skill:t.name,index:n,theta:ge,phi:J,category:t.category,proficiency:s,originalColor:t.color,originalScale:1},L.push(z),F.add(z);const Pe=new e.SphereGeometry(c*1.3,p,p),Ge=new e.MeshBasicMaterial({color:t.color,transparent:!0,opacity:.2,side:e.BackSide}),P=new e.Mesh(Pe,Ge);z.add(P),z.userData.halo=P});const he=t=>window.innerWidth<=480?t%10===0:window.innerWidth<=768?t%5===0:t%3===0;L.forEach((t,n)=>{if(he(n)){const s=new e.BufferGeometry,c=window.innerWidth<=480?5:window.innerWidth<=768?10:20,p=new Float32Array(c*3);for(let z=0;z<c;z++)p[z*3]=t.position.x,p[z*3+1]=t.position.y,p[z*3+2]=t.position.z;s.setAttribute("position",new e.BufferAttribute(p,3));const te=new e.LineBasicMaterial({color:t.userData.originalColor,transparent:!0,opacity:.5}),U=new e.Line(s,te);F.add(U),t.userData.trail=U,t.userData.trailPositions=p,t.userData.trailUpdateCounter=0}});const K=new e.Raycaster,B=new e.Vector2;let h=null,Q=!1,me,ee;o.addEventListener("mousemove",t=>{if(Q)return;const n=o.getBoundingClientRect();B.x=(t.clientX-n.left)/o.clientWidth*2-1,B.y=-((t.clientY-n.top)/o.clientHeight)*2+1,K.setFromCamera(B,H);const s=K.intersectObjects(L);if(L.forEach((c,p)=>{c!==h&&(c.material.color.set(c.userData.originalColor),c.scale.set(1,1,1)),w[p]&&!w[p].dataset.selected&&(w[p].style.backgroundColor="rgba(0,0,0,0.3)")}),s.length>0){const c=s[0],p=L.indexOf(c.object);p!==-1&&c.object!==h&&(c.object.material.color.set(16776960),c.object.scale.set(1.5,1.5,1.5),w[p]&&(w[p].style.backgroundColor="rgba(255,255,0,0.3)"))}}),o.addEventListener("touchstart",t=>{t.preventDefault(),Q=!0;const n=t.touches[0];me=n.clientX,ee=n.clientY;const s=o.getBoundingClientRect();B.x=(n.clientX-s.left)/o.clientWidth*2-1,B.y=-((n.clientY-s.top)/o.clientHeight)*2+1,K.setFromCamera(B,H);const c=K.intersectObjects(L);c.length>0?se(c[0].object):h&&be()}),o.addEventListener("touchmove",t=>{if(t.preventDefault(),!Q)return;const n=t.touches[0],s=n.clientX-me,c=n.clientY-ee;le+=s*.01,fe+=c*.01,me=n.clientX,ee=n.clientY,m=!1}),o.addEventListener("touchend",()=>{Q=!1,clearTimeout(T),T=setTimeout(()=>{m=!0},3e3)});const se=t=>{if(h){h.material.color.set(h.userData.originalColor),h.scale.set(1,1,1);const s=L.indexOf(h);if(s>=0&&w[s]&&(w[s].style.backgroundColor="rgba(0,0,0,0.3)",w[s].style.fontWeight="normal",w[s].dataset.selected="false"),t===h){h=null,v.style.display="none";return}}h=t,h.material.color.set(16711680),h.scale.set(2,2,2),v.textContent=h.userData.skill,v.style.display="block",v.style.backgroundColor=`rgba(${h.userData.originalColor>>16&255}, ${h.userData.originalColor>>8&255}, ${h.userData.originalColor&255}, 0.8)`,ue();const n=L.indexOf(h);w[n]&&(w[n].style.backgroundColor="rgba(255,0,0,0.3)",w[n].style.fontWeight="bold",w[n].dataset.selected="true",w[n].scrollIntoView({behavior:"smooth",block:"center"}))},be=()=>{if(h){h.material.color.set(h.userData.originalColor),h.scale.set(1,1,1);const t=L.indexOf(h);t>=0&&w[t]&&(w[t].style.backgroundColor="rgba(0,0,0,0.3)",w[t].style.fontWeight="normal",w[t].dataset.selected="false"),h=null,v.style.display="none"}};o.addEventListener("click",t=>{if(Q)return;const n=o.getBoundingClientRect();B.x=(t.clientX-n.left)/o.clientWidth*2-1,B.y=-((t.clientY-n.top)/o.clientHeight)*2+1,K.setFromCamera(B,H);const s=K.intersectObjects(L);s.length>0?se(s[0].object):be()});const ue=()=>{if(h&&v.style.display!=="none"){const t=new e.Vector3;t.copy(h.position),t.project(H);const n=(t.x*.5+.5)*o.clientWidth,s=(-t.y*.5+.5)*o.clientHeight;h.position.z>0?(v.style.display="block",v.style.left=`${n}px`,v.style.top=`${s-20}px`):v.style.display="none"}},we=t=>{document.querySelectorAll(".category-filter").forEach(s=>{s.classList.remove("active"),s.style.backgroundColor="rgba(255,255,255,0.1)"});const n=document.querySelector(`.category-filter[data-category="${t}"]`);n&&(n.classList.add("active"),n.style.backgroundColor="rgba(255,255,255,0.3)"),w.forEach(s=>{t==="all"||s.dataset.category===t?s.style.display="flex":s.style.display="none"}),L.forEach(s=>{const c=t==="all"||s.userData.category===t;s.visible=c,s.userData.trail&&(s.userData.trail.visible=c)}),Object.entries(ne).forEach(([s,c])=>{c.visible=t==="all"||s===t})};document.querySelectorAll(".category-filter").forEach(t=>{t.addEventListener("click",()=>{we(t.dataset.category)})});let le=0,fe=0,a=0,x=0,m=!0,E=.005;o.addEventListener("mousemove",t=>{if(Q)return;m=!1;const n=o.getBoundingClientRect(),s=n.width/2,c=n.height/2,p=(t.clientX-n.left-s)/s,te=(t.clientY-n.top-c)/c;le=p*.5,fe=te*.3});let T;const k=()=>{clearTimeout(T),T=setTimeout(()=>{m=!0},3e3)};o.addEventListener("mousemove",k),o.addEventListener("touchend",k),w.forEach((t,n)=>{t.addEventListener("click",()=>{if(L.forEach((s,c)=>{s.material.color.set(s.userData.originalColor),s.scale.set(1,1,1),w[c]&&(w[c].style.backgroundColor="rgba(0,0,0,0.3)",w[c].style.fontWeight="normal",w[c].dataset.selected="false")}),h&&L.indexOf(h)===n){h=null,v.style.display="none";return}h=L[n],h.material.color.set(16711680),h.scale.set(2,2,2),t.style.backgroundColor="rgba(255,0,0,0.3)",t.style.fontWeight="bold",t.dataset.selected="true",v.textContent=h.userData.skill,v.style.display="block",v.style.backgroundColor=`rgba(${h.userData.originalColor>>16&255}, ${h.userData.originalColor>>8&255}, ${h.userData.originalColor&255}, 0.8)`,ue()})});let M=0,X=0,ce=0,D=0,$=0,xe=0,pe=!1,We=!0;const He=t=>{D++,t>$+1e3&&(xe=D,D=0,$=t,xe<20&&!pe&&(pe=!0,L.forEach(n=>{n.userData.trail&&(n.userData.trail.visible=!1),n.userData.halo&&(n.userData.halo.material.opacity=.1)}),ye.visible=window.innerWidth>768,Object.values(ne).forEach(n=>{n.visible=window.innerWidth>768})))},ke=()=>{We=!1,I.style.display="block",O(),console.warn("Three.js rendering failed, showing fallback content");try{j.render(F,H)}catch(t){console.error("Static render also failed:",t)}};let De=0;const Re=()=>{O(),De++,De<10&&setTimeout(Re,500)};Re();const Ae=t=>{if(We)try{requestAnimationFrame(Ae),He(t),X=(t-ce)/1e3,ce=t,M+=X,M>.5&&O(),m?a+=E:(a+=(le-a)*.05,x+=(fe-x)*.05),Y.rotation.y=a,Y.rotation.x=x,re.rotation.y=Y.rotation.y,re.rotation.x=Y.rotation.x,pe||Object.values(ne).forEach((n,s)=>{n.rotation.z+=.001*(s+1)}),pe||(ye.rotation.y=M*.05,ye.rotation.z=M*.02),L.forEach(n=>{if(n!==h){const s=n.userData.phi,p=n.userData.theta+Y.rotation.y,te=2.5*Math.cos(p)*Math.sin(s),U=2.5*Math.cos(s),z=2.5*Math.sin(p)*Math.sin(s),J=Math.cos(Y.rotation.x),ge=Math.sin(Y.rotation.x),Pe=z*J-U*ge,Ge=z*ge+U*J;if(n.position.set(te,Pe,Ge),!pe&&n.userData.halo){const P=1+.1*Math.sin(M*3+s*5);n.userData.halo.scale.set(P,P,P)}if(!pe&&n.userData.trail){const P=n.userData.trailPositions;if(n.userData.trailUpdateCounter++%5===0){for(let ie=P.length/3-1;ie>0;ie--)P[ie*3]=P[(ie-1)*3],P[ie*3+1]=P[(ie-1)*3+1],P[ie*3+2]=P[(ie-1)*3+2];P[0]=n.position.x,P[1]=n.position.y,P[2]=n.position.z,n.userData.trail.geometry.attributes.position.needsUpdate=!0}}}}),ue(),Ee.uniforms.viewVector.value=new e.Vector3().subVectors(H.position,re.position),j.render(F,H),M>1&&O()}catch(n){console.error("Animation error:",n),ke()}};window.addEventListener("resize",()=>{try{y(),Z();const t=o.clientWidth,n=o.clientHeight;H.aspect=t/n,H.updateProjectionMatrix(),j.setSize(t,n),window.innerWidth<=480?(S.style.display="none",b.style.display="none"):(S.style.display="block",b.style.display="flex"),O()}catch(t){console.error("Resize error:",t),ke()}}),setTimeout(()=>{try{const t=new Event("resize");window.dispatchEvent(t),O()}catch(t){console.error("Initial resize error:",t),ke()}},100),o.addEventListener("webglcontextlost",t=>{t.preventDefault(),console.warn("WebGL context lost"),ke()}),window.addEventListener("load",()=>{O()}),Ae(0)},Ye=()=>{const e=document.querySelector(".skills-info-display"),o=document.querySelector(".globe-container");if(window.innerWidth<=768&&o){console.log("Mobile device detected, size:",window.innerWidth,"x",window.innerHeight),console.log("Globe container found:",o),console.log("Globe dimensions:",o.clientWidth,"x",o.clientHeight),o.style.display="block",o.style.visibility="visible",o.style.minHeight="300px";try{const r=document.createElement("canvas");if(r.getContext("webgl")||r.getContext("experimental-webgl"))console.log("WebGL is supported on this device");else{console.warn("WebGL not supported on this device");const d=document.createElement("div");d.className="globe-fallback",d.textContent="Interactive 3D skills globe",d.style.position="absolute",d.style.top="50%",d.style.left="50%",d.style.transform="translate(-50%, -50%)",d.style.textAlign="center",d.style.color="white",d.style.zIndex="104",d.style.padding="20px",d.style.backgroundColor="rgba(0, 0, 0, 0.5)",o.appendChild(d)}}catch(r){console.warn("Error checking WebGL support:",r)}}if(!e)return;const i=e.parentNode;i&&i.classList.add("globe-skills-wrapper");const f=()=>{const r=window.innerWidth;if(i)if(r<=768){if(i.style.flexDirection="column",i.style.alignItems="center",o){const y=o.parentElement;y&&(y.style.display="block",y.style.visibility="visible",y.style.width="100%",y.style.maxWidth="100%"),o.style.display="block",o.style.visibility="visible",o.style.height=r<=480?"350px":"450px",o.style.minHeight=r<=480?"250px":"300px"}r<=480?(e.style.width="92%",e.style.maxHeight="250px"):(e.style.width="80%",e.style.maxWidth="450px",e.style.maxHeight="300px"),e.style.marginLeft="0",e.style.marginTop="20px",o&&(o.parentElement.style.maxWidth="100%")}else i.style.flexDirection="row",i.style.alignItems="stretch",e.style.width="220px",e.style.marginTop="0",e.style.maxHeight="650px",r<=992?e.style.marginLeft="15px":e.style.marginLeft="20px",o&&(o.parentElement.style.maxWidth="70%")};f(),window.addEventListener("resize",f)},Xe=()=>{window.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{const e=document.querySelector(".globe-container");if(!e){console.warn("Globe container not found in DOM");return}e.style.display="block",e.style.visibility="visible";const o=e.querySelector("canvas");if(!o||o.offsetHeight===0){console.log("Canvas missing or hidden, creating fallback");const l=document.createElement("canvas");l.width=e.clientWidth,l.height=e.clientHeight,l.style.position="absolute",l.style.top="0",l.style.left="0",l.style.width="100%",l.style.height="100%",l.style.display="block",l.style.zIndex="101";const i=l.getContext("2d"),f=i.createLinearGradient(0,0,0,l.height);f.addColorStop(0,"#071019"),f.addColorStop(1,"#131b2e"),i.fillStyle=f,i.fillRect(0,0,l.width,l.height);const r=l.width/2,y=l.height/2,d=Math.min(l.width,l.height)/3;for(let u=0;u<5;u++)i.beginPath(),i.arc(r,y,d+u,0,Math.PI*2),i.strokeStyle=`rgba(67, 97, 238, ${.1-u*.02})`,i.lineWidth=20-u*3,i.stroke();i.beginPath(),i.arc(r,y,d,0,Math.PI*2),i.strokeStyle="rgba(150, 150, 150, 0.3)",i.lineWidth=1,i.stroke();for(let u=1;u<5;u++)i.beginPath(),i.arc(r,y,d,0,Math.PI*2),i.strokeStyle="rgba(150, 150, 150, 0.2)",i.lineWidth=1,i.stroke();for(let u=0;u<8;u++)i.beginPath(),i.moveTo(r,y-d),i.lineTo(r,y+d),i.strokeStyle="rgba(150, 150, 150, 0.2)",i.lineWidth=1,i.save(),i.translate(r,y),i.rotate(u*Math.PI/4),i.translate(-r,-y),i.moveTo(r,y-d),i.lineTo(r,y+d),i.stroke(),i.restore();const g=["HTML","CSS","JS","React","Git","Python","Bootstrap"],G=["#00aaff","#ff5500","#88cc00","#aa44ff","#ffaa00","#00ccaa","#ff66cc"];g.forEach((u,C)=>{const W=C/g.length*Math.PI*2,N=r+Math.cos(W)*d*.8,A=y+Math.sin(W)*d*.8;i.beginPath(),i.arc(N,A,10,0,Math.PI*2),i.fillStyle=G[C%G.length],i.fill(),i.font="12px Arial",i.fillStyle="white",i.textAlign="center",i.textBaseline="middle",i.fillText(u,N,A)}),i.font="14px Arial",i.fillStyle="rgba(255, 255, 255, 0.7)",i.textAlign="center",i.fillText("Interactive 3D Skills Globe",r,y-d-20),i.font="12px Arial",i.fillText("Use the skills panel to explore →",r,y+d+30),e.appendChild(l);const R=document.createElement("div");R.className="globe-fallback",R.textContent="Interactive Skills Globe",R.style.display="none",e.appendChild(R)}},500)})},_e=()=>{document.body.classList.add("loading-active");const e=document.querySelector(".loading-screen");if(!e)return;const o=e.querySelector(".loading-progress"),l=e.querySelector(".loading-progress-bar"),i=document.querySelector(".main-content");let f=0,r=0,y=1;const d=C=>{f=C,o&&(o.textContent=`Loading... ${C}%`),l&&(l.style.width=`${C}%`)},g=()=>{y!==0&&(f=Math.min(Math.floor(r/y*100),100),d(f),f>=100&&setTimeout(u,800))},G=()=>{const C=document.querySelectorAll('img, video, audio, script, link[rel="stylesheet"], link[as="font"]');if(y=C.length,r=0,y===0){d(100),setTimeout(u,800);return}C.forEach(W=>{W.complete||W.readyState===4?r++:(W.addEventListener("load",()=>{r++,g()}),W.addEventListener("error",()=>{r++,g()}))}),g()},R=()=>{d(0),setTimeout(()=>{G()},200)},u=()=>{i&&i.classList.add("visible"),setTimeout(()=>{document.body.classList.remove("loading-active"),e.style.opacity="0",e.style.visibility="hidden",setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},800)},200)};R(),setTimeout(()=>{e.style.visibility!=="hidden"&&(console.log("Fallback loading timeout triggered"),d(100),u())},1e4),window.addEventListener("load",()=>{setTimeout(()=>{d(100),setTimeout(u,500)},300)})};_e();Be();Ne();qe();Fe();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".cursor-container");e&&e.remove()});Xe();document.addEventListener("DOMContentLoaded",()=>{console.log("DOM loaded, checking for THREE..."),window.THREE?(console.log("THREE is available, initializing components"),setTimeout(()=>{try{Oe(),console.log("Background initialized"),setTimeout(()=>{try{je(),console.log("Skills globe initialized"),Ye(),setTimeout(()=>{const e=document.querySelector(".skills-globe");if(e&&(e.offsetHeight===0||!e.offsetParent)){console.warn("Globe not visible, forcing fallback");const o=document.querySelector(".globe-container");if(o){const l=document.createElement("div");l.className="globe-fallback",l.innerHTML="Interactive 3D Skills Globe",l.style.display="block",o.appendChild(l)}}},1e3)}catch(e){console.error("Skills globe error:",e);const o=document.querySelector(".globe-container");if(o){const l=document.createElement("div");l.className="globe-fallback",l.innerHTML="Interactive 3D Skills Globe",l.style.display="block",o.appendChild(l)}}},200)}catch(e){console.error("Three background error:",e)}},500)):(console.error("THREE is not available from CDN"),Ve())});const Ve=()=>{const e=document.querySelector(".skills-container");if(e){e.style.display="flex";const o=document.createElement("div");o.className="threejs-error",o.innerHTML=`
      <p>3D visualization couldn't be loaded.</p>
      <p>Please ensure WebGL is enabled in your browser or try a different browser.</p>
    `,e.parentNode.insertBefore(o,e.nextSibling)}};document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(o){o.preventDefault();const l=document.querySelector(this.getAttribute("href"));l&&window.scrollTo({top:l.offsetTop-100,behavior:"smooth"})})});const $e=document.querySelectorAll("section[id]");window.addEventListener("scroll",()=>{let e="";$e.forEach(o=>{const l=o.offsetTop;o.clientHeight,pageYOffset>=l-200&&(e=o.getAttribute("id"))}),document.querySelectorAll(".header__link a").forEach(o=>{o.classList.remove("active"),o.getAttribute("href")===`#${e}`&&o.classList.add("active")})});
