(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))g(m);new MutationObserver(m=>{for(const a of m)if(a.type==="childList")for(const p of a.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&g(p)}).observe(document,{childList:!0,subtree:!0});function d(m){const a={};return m.integrity&&(a.integrity=m.integrity),m.referrerPolicy&&(a.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?a.credentials="include":m.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function g(m){if(m.ep)return;m.ep=!0;const a=d(m);fetch(m.href,a)}})();const be=()=>{const e=document.querySelector(".header__bars"),s=document.querySelector(".mobile-nav"),d=document.querySelectorAll(".mobile-nav__link"),g=document.querySelector(".mobile-nav__close");let m=!1;const a=()=>{m=!0,s.style.display="flex",s.style.animation="slideIn 0.3s forwards",document.body.style.overflowY="hidden"},p=()=>{m=!1,s.style.animation="slideOut 0.3s forwards",setTimeout(()=>{s.style.display="none",document.body.style.overflowY="auto"},300)},E=document.createElement("style");E.innerHTML=`
    @keyframes slideIn {
      from { transform: translateX(100%); }
      to { transform: translateX(0); }
    }
    
    @keyframes slideOut {
      from { transform: translateX(0); }
      to { transform: translateX(100%); }
    }
    
    .mobile-nav {
      transform: translateX(100%);
    }
  `,document.head.appendChild(E),e.addEventListener("click",a),g.addEventListener("click",p),d.forEach(z=>{z.addEventListener("click",p)}),document.addEventListener("keydown",z=>{z.key==="Escape"&&m&&p()}),document.addEventListener("click",z=>{m&&!s.contains(z.target)&&z.target!==e&&p()})},ve=()=>{const e=document.querySelectorAll("#theme-toggle"),s=localStorage.getItem("theme");s&&document.body.classList.add(s);const d=()=>{document.body.classList.toggle("light-mode"),document.body.classList.contains("light-mode")?localStorage.setItem("theme","light-mode"):(localStorage.removeItem("theme"),document.body.removeAttribute("class"))};e.forEach(g=>g.addEventListener("click",d))},xe=()=>{const e=document.querySelectorAll(".lazy"),s=new IntersectionObserver((d,g)=>{d.forEach(m=>{if(m.isIntersecting){let a=m.target;a.src=a.dataset.src,a.classList.remove("loading"),a.classList.add("loaded"),g.unobserve(a)}})});e.forEach(d=>{s.observe(d)})},Ce=()=>{const e=document.querySelectorAll(".section"),s=new IntersectionObserver(a=>{a.forEach(p=>{p.isIntersecting&&(p.target.style.opacity="1",p.target.style.transform="translateY(0)",s.unobserve(p.target))})},{threshold:.2});e.forEach(a=>{a.style.opacity="0",a.style.transform="translateY(20px)",a.style.transition="opacity 0.5s ease, transform 0.5s ease",s.observe(a)}),document.querySelectorAll(".skill-badge").forEach((a,p)=>{a.style.opacity="0",a.style.transform="translateY(10px)",a.style.transition="opacity 0.3s ease, transform 0.3s ease",setTimeout(()=>{a.style.opacity="1",a.style.transform="translateY(0)"},100*p)});const g=document.querySelector(".hero__subtitle");g&&(g.style.opacity="0",g.style.transform="translateY(-10px)",g.style.transition="opacity 0.5s ease, transform 0.5s ease",setTimeout(()=>{g.style.opacity="1",g.style.transform="translateY(0)"},300));const m=document.querySelector(".hero__title");if(m){const a=m.textContent;m.textContent="",m.style.opacity="1";const p=document.createElement("span");p.className="text-gradient",m.appendChild(p);let E=0;const z=()=>{E<a.length&&(p.textContent+=a.charAt(E),E++,setTimeout(z,50))};setTimeout(z,800)}},Me=()=>{if(!window.THREE){console.error("THREE.js not loaded for background");return}const e=window.THREE;if(!document.body)return;const s=document.createElement("div");s.style.position="fixed",s.style.top="0",s.style.left="0",s.style.width="100%",s.style.height="100%",s.style.backgroundColor="rgb(7, 10, 19)",s.style.zIndex="-2",document.body.prepend(s);const d=document.createElement("canvas");d.classList.add("three-canvas"),d.style.position="fixed",d.style.top="0",d.style.left="0",d.style.width="100%",d.style.height="100%",d.style.zIndex="-1",d.style.pointerEvents="none",document.body.prepend(d);try{let a=function(){const n=document.createElement("canvas");n.width=256,n.height=256;const y=n.getContext("2d"),l=n.width/2,f=n.height/2,C=n.width/2,b=y.createRadialGradient(l,f,0,l,f,C);return b.addColorStop(0,"#FFEE33"),b.addColorStop(.7,"#FFCC22"),b.addColorStop(1,"#FF9900"),y.fillStyle=b,y.fillRect(0,0,n.width,n.height),n},p=function(){const n=document.createElement("canvas");n.width=64,n.height=256;const y=n.getContext("2d"),l=y.createLinearGradient(32,0,32,256);return l.addColorStop(0,"#FFEE33"),l.addColorStop(.6,"#FFCC22"),l.addColorStop(1,"#FFAA11"),y.fillStyle=l,y.fillRect(0,0,n.width,n.height),n};var g=a,m=p;const E=document.body.classList.contains("light-mode");s.style.backgroundColor=E?"rgb(241, 245, 249)":"rgb(7, 10, 19)";const z=new e.Scene,$=new e.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),S=new e.WebGLRenderer({canvas:d,alpha:!0,antialias:!0,powerPreference:"high-performance"});S.setSize(window.innerWidth,window.innerHeight),S.setPixelRatio(Math.min(window.devicePixelRatio,1.5));const M=new e.BufferGeometry,N=2e3,I=new Float32Array(N*3),P=new Float32Array(N*3),ee=new Float32Array(N),U=new e.Color(4415982),x=new e.Color(16711782),L=new e.Color(16777215);for(let n=0;n<N;n++){I[n*3]=(Math.random()-.5)*20,I[n*3+1]=(Math.random()-.5)*20,I[n*3+2]=(Math.random()-.5)*20;const y=Math.random();ee[n]=y*.1+.01;const l=new e.Color;if(Math.random()>.7){const f=Math.random()>.5?U.clone():x.clone();l.copy(f).lerp(L,.3+Math.random()*.4)}else l.copy(L).lerp(new e.Color(11193599),Math.random()*.3);P[n*3]=l.r,P[n*3+1]=l.g,P[n*3+2]=l.b}M.setAttribute("position",new e.BufferAttribute(I,3)),M.setAttribute("color",new e.BufferAttribute(P,3)),M.setAttribute("size",new e.BufferAttribute(ee,1));const k=`
      attribute float size;
      varying vec3 vColor;
      
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
        gl_PointSize = size * (300.0 / -mvPosition.z);
        gl_Position = projectionMatrix * mvPosition;
      }
    `,he=`
      varying vec3 vColor;
      
      void main() {
        // Calculate distance from center of point
        float r = distance(gl_PointCoord, vec2(0.5, 0.5));
        
        // Softer, more natural star glow effect
        float alpha = 1.0 - smoothstep(0.2, 0.5, r);
        
        // Star core
        if (r < 0.25) {
          gl_FragColor = vec4(vColor, alpha * 1.0);
        } 
        // Star glow
        else {
          gl_FragColor = vec4(vColor, alpha * 0.6);
        }
      }
    `,G=new e.ShaderMaterial({uniforms:{},vertexShader:k,fragmentShader:he,transparent:!0,vertexColors:!0,depthWrite:!1,blending:e.AdditiveBlending}),F=new e.Points(M,G);z.add(F);const R=new e.Group;R.position.set(-5,4,-8),z.add(R);const B=new e.CircleGeometry(1.5,32),te=new e.CanvasTexture(a()),de=new e.MeshBasicMaterial({map:te,transparent:!0,opacity:.9,side:e.DoubleSide}),H=new e.Mesh(B,de);R.add(H);const q=new e.CircleGeometry(.18,32),ye=new e.MeshBasicMaterial({color:3355443}),W=new e.Mesh(q,ye);W.position.set(-.5,.3,.01),H.add(W);const oe=new e.CircleGeometry(.18,32),O=new e.Mesh(oe,ye);O.position.set(.5,.3,.01),H.add(O);const fe=new e.CircleGeometry(.05,32),ae=new e.MeshBasicMaterial({color:16777215}),ne=new e.Mesh(fe,ae);ne.position.set(-.45,.35,.02),H.add(ne);const T=new e.CircleGeometry(.05,32),h=new e.Mesh(T,ae);h.position.set(.55,.35,.02),H.add(h);const le=new e.EllipseCurve(0,-.1,.7,.4,0,Math.PI,!0,0).getPoints(20),se=new e.BufferGeometry().setFromPoints(le),j=new e.LineBasicMaterial({color:3355443,linewidth:3}),c=new e.Line(se,j);c.position.set(0,0,.01),H.add(c);const ue=new e.CircleGeometry(.15,32),me=new e.MeshBasicMaterial({color:16751001,transparent:!0,opacity:.4}),re=new e.Mesh(ue,me);re.position.set(-.7,-.25,.01),H.add(re);const pe=new e.CircleGeometry(.15,32),_=new e.Mesh(pe,me);_.position.set(.7,-.25,.01),H.add(_);const Y=new e.Group,ie=12;for(let n=0;n<ie;n++){const y=n/ie*Math.PI*2,l=new e.Shape;l.moveTo(0,0),l.lineTo(-.25,1.8),l.lineTo(0,2.2),l.lineTo(.25,1.8),l.lineTo(0,0);const f=new e.ShapeGeometry(l),C=new e.CanvasTexture(p()),b=new e.MeshBasicMaterial({map:C,transparent:!0,opacity:.8,side:e.DoubleSide}),v=new e.Mesh(f,b);v.position.set(0,0,-.01),v.rotation.z=y,Y.add(v)}R.add(Y);const J=(n,y,l,f)=>{const C=new e.Group,b=new e.CircleGeometry(.7,16),v=new e.MeshBasicMaterial({color:16777215,transparent:!0,opacity:.9,side:e.DoubleSide}),w=new e.Mesh(b,v);return C.add(w),[{x:.6,y:.4,z:0,s:.6},{x:-.5,y:.3,z:0,s:.7},{x:.2,y:-.4,z:0,s:.5},{x:-.4,y:-.2,z:0,s:.6},{x:.5,y:.2,z:0,s:.55}].forEach(A=>{const Q=new e.CircleGeometry(A.s,16),we=new e.Mesh(Q,v);we.position.set(A.x,A.y,A.z),C.add(we)}),C.position.set(n,y,l),C.scale.set(f,f,f),C},K=[J(-10,3,-12,1.5),J(-6,-2,-15,2),J(8,2,-10,1.7),J(12,-3,-12,2.2),J(5,5,-18,3)];K.forEach(n=>z.add(n));const Z=n=>{F.visible=!n,R.visible=n,K.forEach(y=>y.visible=n)};Z(E);const ce=new MutationObserver(n=>{n.forEach(y=>{if(y.attributeName==="class"){const l=document.body.classList.contains("light-mode");s.style.backgroundColor=l?"rgb(241, 245, 249)":"rgb(7, 10, 19)",Z(l)}})});ce.observe(document.body,{attributes:!0}),$.position.z=6;const V={x:0,y:0};document.addEventListener("mousemove",n=>{V.x=n.clientX/window.innerWidth*2-1,V.y=-(n.clientY/window.innerHeight*2-1)});const X={y:0,lastScrollTop:0,direction:0};window.addEventListener("scroll",()=>{const n=window.pageYOffset||document.documentElement.scrollTop;X.y=n/1e3,X.direction=n>X.lastScrollTop?1:-1,X.lastScrollTop=n<=0?0:n});const o=()=>{$.aspect=window.innerWidth/window.innerHeight,$.updateProjectionMatrix(),S.setSize(window.innerWidth,window.innerHeight),S.setPixelRatio(Math.min(window.devicePixelRatio,1.5))};window.addEventListener("resize",o);const r=new e.Clock;let t,i=Math.random()*5;const u=()=>{t=requestAnimationFrame(u);try{const n=r.getElapsedTime();if(document.body.classList.contains("light-mode")){if(Y.rotation.z=n*.3,R.position.y=4+Math.sin(n*1.2)*.25,Y.children.forEach((b,v)=>{const w=v*(Math.PI/6),D=1+Math.sin(n*1.5+w)*.15,A=1+Math.sin(n*.8+w)*.1;b.scale.set(D,A,1)}),i-=r.getDelta(),i<=0){const v=Date.now(),w=setInterval(()=>{const A=(Date.now()-v)/150;if(A>=1)clearInterval(w),W.scale.y=1,O.scale.y=1,i=2+Math.random()*3;else{const Q=Math.abs(Math.sin(A*Math.PI));W.scale.y=1-Q*.9,O.scale.y=1-Q*.9}},16)}const l=Math.sin(n*1.2)*.05;c.position.y=-.1+l,c.scale.y=1-Math.sin(n)*.05,c.scale.x=1+Math.sin(n*.8)*.03;const f=1+Math.sin(n*1)*.15;if(re.scale.set(f,f,1),_.scale.set(f,f,1),Math.random()>.9995){const b=Date.now(),v=250,w=setInterval(()=>{const A=(Date.now()-b)/v;if(A>=1)clearInterval(w),W.scale.y=1,O.scale.y=1;else{const Q=Math.sin(A*Math.PI);W.scale.y=1-Q*.9,O.scale.y=1-Q*.9}},16)}const C=-5+V.x*.8;R.position.x+=(C-R.position.x)*.02,K.forEach((b,v)=>{b.position.x+=Math.sin(n*.2+v)*.003,b.position.y+=Math.cos(n*.3+v*.5)*.002,b.rotation.z=Math.sin(n*.1+v)*.05})}else{F.rotation.y=n*.03,F.rotation.x=n*.02,F.position.y=-X.y*.5,F.rotation.y+=(V.x*.01-F.rotation.y)*.1,F.rotation.x+=(V.y*.01-F.rotation.x)*.1;const l=M.attributes.size.array;for(let f=0;f<N;f++)if(Math.random()>.995){const C=l[f];l[f]=C*(1+Math.sin(n*10)*.5),setTimeout(()=>{M.attributes.size&&(l[f]=C,M.attributes.size.needsUpdate=!0)},150)}M.attributes.size.needsUpdate=!0}S.render(z,$)}catch(n){console.error("Animation error:",n),cancelAnimationFrame(t)}};return u(),()=>{cancelAnimationFrame(t),window.removeEventListener("resize",o),window.removeEventListener("scroll",()=>{}),ce.disconnect(),M.dispose(),G.dispose(),B.dispose(),de.dispose(),R.children.forEach(n=>{n.geometry&&n.geometry.dispose(),n.material&&n.material.dispose()}),K.forEach(n=>{n.children.forEach(y=>{y.geometry&&y.geometry.dispose(),y.material&&y.material.dispose()})}),S.dispose(),d.parentNode&&d.parentNode.removeChild(d),s.parentNode&&s.parentNode.removeChild(s)}}catch(a){return console.error("Error initializing Three.js background:",a),d.parentNode&&d.parentNode.removeChild(d),null}},Ee=()=>{if(!window.THREE){console.error("THREE.js not loaded for skills globe");return}const e=window.THREE;if(!document.querySelector(".about"))return;const s=document.createElement("canvas");s.classList.add("skills-globe"),s.classList.add("three-canvas-container");const d=document.querySelector(".skills-container");if(!d)return;const g={frontend:{color:43775,name:"Frontend"},backend:{color:16733440,name:"Backend"},tools:{color:8965120,name:"Tools"},framework:{color:11158783,name:"Frameworks"}},m=[];document.querySelectorAll(".skill-badge").forEach(o=>{const r=o.textContent.trim(),t=o.querySelector("i")?o.querySelector("i").className:"";let i="frontend";r.includes("Python")||r.includes("REST")?i="backend":r.includes("Git")||r.includes("WordPress")?i="tools":(r.includes("React")||r.includes("Redux")||r.includes("Bootstrap"))&&(i="framework"),m.push({name:r,icon:t,category:i,color:g[i].color})});const a=document.createElement("div");a.className="globe-container",a.style.position="relative",a.style.width="100%",a.style.height="650px",a.style.zIndex="100",a.style.isolation="isolate",a.style.borderRadius="var(--radius-lg)",a.style.backgroundColor="rgb(7, 10, 19)",a.style.overflow="hidden",a.style.boxShadow="0 0 40px rgba(67, 97, 238, 0.3)",a.style.marginTop="var(--spacing-xl)",a.style.marginBottom="var(--spacing-xl)",a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",a.appendChild(s);const p=document.createElement("div");p.style.position="relative",p.style.zIndex="99",p.style.isolation="isolate",p.appendChild(a);const E=document.createElement("div");E.className="skills-info-display",d.parentNode.replaceChild(p,d);const z=document.querySelector(".about"),$=document.querySelector(".about__content"),S=document.createElement("div");S.style.position="relative",S.style.display="flex",S.style.justifyContent="center",S.style.width="100%",S.className="globe-skills-wrapper",$?(z.insertBefore(S,$.nextSibling),p.parentNode.removeChild(p),S.appendChild(p)):(d.parentNode.insertBefore(S,d.nextSibling),p.parentNode.removeChild(p),S.appendChild(p)),S.appendChild(E);const M=document.createElement("div");M.textContent="My Skills",M.style.textAlign="center",M.style.fontWeight="bold",M.style.fontSize="16px",M.style.marginBottom="10px",M.style.borderBottom="1px solid rgba(255,255,255,0.3)",M.style.paddingBottom="5px",E.appendChild(M);const N=document.createElement("div");N.textContent="Click on a sphere to highlight a skill:",N.style.fontSize="12px",N.style.marginBottom="10px",N.style.opacity="0.8",E.appendChild(N);const I=document.createElement("div");I.className="category-filters",I.style.display="flex",I.style.flexWrap="wrap",I.style.gap="5px",I.style.marginBottom="10px";const P=document.createElement("div");P.className="category-filter active",P.textContent="All",P.dataset.category="all",P.style.padding="3px 8px",P.style.backgroundColor="rgba(255,255,255,0.2)",P.style.borderRadius="5px",P.style.fontSize="12px",P.style.cursor="pointer",P.style.transition="all 0.2s ease",I.appendChild(P),Object.entries(g).forEach(([o,r])=>{const t=document.createElement("div");t.className="category-filter",t.textContent=r.name,t.dataset.category=o,t.style.padding="3px 8px",t.style.backgroundColor="rgba(255,255,255,0.1)",t.style.borderRadius="5px",t.style.fontSize="12px",t.style.cursor="pointer",t.style.transition="all 0.2s ease";const i=document.createElement("span");i.style.display="inline-block",i.style.width="8px",i.style.height="8px",i.style.borderRadius="50%",i.style.backgroundColor="#"+r.color.toString(16).padStart(6,"0"),i.style.marginRight="5px",t.prepend(i),I.appendChild(t)}),E.appendChild(I);const ee=document.createElement("div");ee.className="skills-list",E.appendChild(ee),m.forEach((o,r)=>{const t=document.createElement("div");t.className="skill-item",t.dataset.index=r,t.dataset.category=o.category;const i=document.createElement("i");i.className=o.icon,i.style.marginRight="5px",i.style.color="#"+o.color.toString(16).padStart(6,"0");const u=document.createElement("span");u.textContent=o.name,t.appendChild(i),t.appendChild(u),t.style.padding="6px 10px",t.style.margin="5px 0",t.style.borderRadius="5px",t.style.transition="all 0.2s ease",t.style.cursor="pointer",t.style.backgroundColor="rgba(0,0,0,0.3)",t.style.display="flex",t.style.alignItems="center",t.addEventListener("mouseover",()=>{t.style.backgroundColor=`rgba(${o.color>>16&255}, ${o.color>>8&255}, ${o.color&255}, 0.3)`}),t.addEventListener("mouseout",()=>{t.dataset.selected!=="true"&&(t.style.backgroundColor="rgba(0,0,0,0.3)")}),ee.appendChild(t)});const U=document.createElement("div");U.className="three-loading",s.appendChild(U);const x=document.createElement("div");x.className="focused-skill-popup",s.appendChild(x);const L=document.createElement("div");L.className="globe-instructions",L.style.position="absolute",L.style.bottom="15px",L.style.left="15px",L.style.padding="5px 12px",L.style.backgroundColor="rgba(0,0,0,0.6)",L.style.color="rgba(255,255,255,0.7)",L.style.borderRadius="15px",L.style.fontSize="12px",L.style.pointerEvents="none",L.style.zIndex="102",L.innerHTML="Move mouse to rotate â€¢ Click skills to focus",a.appendChild(L);const k=document.createElement("div");k.className="proficiency-legend",k.style.position="absolute",k.style.bottom="15px",k.style.right="15px",k.style.padding="5px 12px",k.style.backgroundColor="rgba(0,0,0,0.6)",k.style.color="rgba(255,255,255,0.7)",k.style.borderRadius="15px",k.style.fontSize="12px",k.style.display="flex",k.style.gap="10px",k.style.alignItems="center",k.style.zIndex="102",[{size:"Small",text:"Familiar"},{size:"Medium",text:"Proficient"},{size:"Large",text:"Expert"}].forEach(o=>{const r=document.createElement("div");r.style.display="flex",r.style.alignItems="center",r.style.gap="5px";const t=document.createElement("div");t.style.width=o.size==="Small"?"8px":o.size==="Medium"?"12px":"16px",t.style.height=t.style.width,t.style.borderRadius="50%",t.style.backgroundColor="rgba(0, 170, 255, 0.7)";const i=document.createElement("span");i.textContent=o.text,r.appendChild(t),r.appendChild(i),k.appendChild(r)}),a.appendChild(k);const G=new e.Scene,F=new e.AmbientLight(16777215,.5);G.add(F);const R=new e.DirectionalLight(16777215,.8);R.position.set(5,5,5),G.add(R);const B=new e.PerspectiveCamera(75,s.clientWidth/s.clientHeight,.1,1e3);B.position.z=6.5;const te=new e.WebGLRenderer({canvas:s,alpha:!0,antialias:!0});te.setSize(s.clientWidth,s.clientHeight),te.setPixelRatio(window.devicePixelRatio),s.style.position="absolute",s.style.top="0",s.style.left="0",s.style.width="100%",s.style.height="100%",s.style.zIndex="101";const de=new e.SphereGeometry(2.5,32,32),H=new e.MeshBasicMaterial({color:3355443,wireframe:!0,transparent:!0,opacity:.3}),q=new e.Mesh(de,H);G.add(q);const ye=new e.SphereGeometry(2.56,32,32),W=new e.ShaderMaterial({uniforms:{glowColor:{value:new e.Color(4415982)},viewVector:{value:new e.Vector3(0,0,1)}},vertexShader:`
      uniform vec3 viewVector;
      varying float intensity;
      void main() {
        vec3 vNormal = normalize(normalMatrix * normal);
        vec3 vNormel = normalize(normalMatrix * viewVector);
        intensity = pow(1.0 - dot(vNormal, vNormel), 2.0);
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
      }
    `,fragmentShader:`
      uniform vec3 glowColor;
      varying float intensity;
      void main() {
        vec3 glow = glowColor * intensity;
        gl_FragColor = vec4(glow, 0.3);
      }
    `,side:e.BackSide,blending:e.AdditiveBlending,transparent:!0}),oe=new e.Mesh(ye,W);G.add(oe);const O=new e.BufferGeometry,fe=new e.PointsMaterial({color:16777215,size:.05,transparent:!0}),ae=[];for(let o=0;o<1e3;o++){const r=(Math.random()-.5)*30,t=(Math.random()-.5)*30,i=(Math.random()-.5)*30;ae.push(r,t,i)}O.setAttribute("position",new e.Float32BufferAttribute(ae,3));const ne=new e.Points(O,fe);G.add(ne);const T=[],h=E.querySelectorAll(".skill-item"),ge=(o,r)=>o.name.includes("HTML")||o.name.includes("CSS")||o.name.includes("JavaScript")?.85:o.name.includes("React")||o.name.includes("Git")?.7:.55,le={};Object.keys(g).forEach((o,r)=>{const t=new e.TorusGeometry(2.85+r*.12,.025,16,100),i=new e.MeshBasicMaterial({color:g[o].color,transparent:!0,opacity:.3}),u=new e.Mesh(t,i);u.rotation.x=Math.PI/2,u.rotation.y=r*Math.PI/6,u.userData={category:o},le[o]=u,G.add(u)}),m.forEach((o,r)=>{const t=ge(o),i=.15+t*.15,u=new e.SphereGeometry(i,16,16),n=new e.MeshPhongMaterial({color:o.color,specular:16777215,shininess:100,transparent:!0,opacity:.9}),y=new e.Mesh(u,n),l=Math.acos(-1+2*r/m.length),f=Math.sqrt(m.length*Math.PI)*l;y.position.x=2.5*Math.cos(f)*Math.sin(l),y.position.y=2.5*Math.sin(f)*Math.sin(l),y.position.z=2.5*Math.cos(l),y.userData={skill:o.name,index:r,theta:f,phi:l,category:o.category,proficiency:t,originalColor:o.color,originalScale:1},T.push(y),G.add(y);const C=new e.SphereGeometry(i*1.3,16,16),b=new e.MeshBasicMaterial({color:o.color,transparent:!0,opacity:.2,side:e.BackSide}),v=new e.Mesh(C,b);y.add(v),y.userData.halo=v}),T.forEach((o,r)=>{if(r%3===0){const t=new e.BufferGeometry,i=20,u=new Float32Array(i*3);for(let l=0;l<i;l++)u[l*3]=o.position.x,u[l*3+1]=o.position.y,u[l*3+2]=o.position.z;t.setAttribute("position",new e.BufferAttribute(u,3));const n=new e.LineBasicMaterial({color:o.userData.originalColor,transparent:!0,opacity:.5}),y=new e.Line(t,n);G.add(y),o.userData.trail=y,o.userData.trailPositions=u,o.userData.trailUpdateCounter=0}});const se=new e.Raycaster,j=new e.Vector2;let c=null;s.addEventListener("mousemove",o=>{const r=s.getBoundingClientRect();j.x=(o.clientX-r.left)/s.clientWidth*2-1,j.y=-((o.clientY-r.top)/s.clientHeight)*2+1,se.setFromCamera(j,B);const t=se.intersectObjects(T);if(T.forEach((i,u)=>{i!==c&&(i.material.color.set(i.userData.originalColor),i.scale.set(1,1,1)),h[u]&&!h[u].dataset.selected&&(h[u].style.backgroundColor="rgba(0,0,0,0.3)")}),t.length>0){const i=t[0],u=T.indexOf(i.object);u!==-1&&i.object!==c&&(i.object.material.color.set(16776960),i.object.scale.set(1.5,1.5,1.5),h[u]&&(h[u].style.backgroundColor="rgba(255,255,0,0.3)"))}}),s.addEventListener("click",o=>{const r=s.getBoundingClientRect();j.x=(o.clientX-r.left)/s.clientWidth*2-1,j.y=-((o.clientY-r.top)/s.clientHeight)*2+1,se.setFromCamera(j,B);const t=se.intersectObjects(T);if(t.length>0){const i=t[0].object,u=T.indexOf(i);if(c){c.material.color.set(c.userData.originalColor),c.scale.set(1,1,1);const f=T.indexOf(c);if(f>=0&&h[f]&&(h[f].style.backgroundColor="rgba(0,0,0,0.3)",h[f].style.fontWeight="normal",h[f].dataset.selected="false"),i===c){c=null,x.style.display="none";return}}c=i,c.material.color.set(16711680),c.scale.set(2,2,2),x.textContent=c.userData.skill,x.style.display="block",x.style.backgroundColor=`rgba(${c.userData.originalColor>>16&255}, ${c.userData.originalColor>>8&255}, ${c.userData.originalColor&255}, 0.8)`;const n=new e.Vector3;n.copy(c.position),n.project(B);const y=(n.x*.5+.5)*s.clientWidth,l=(-n.y*.5+.5)*s.clientHeight;x.style.left=`${y}px`,x.style.top=`${l-20}px`,h[u]&&(h[u].style.backgroundColor="rgba(255,0,0,0.3)",h[u].style.fontWeight="bold",h[u].dataset.selected="true",h[u].scrollIntoView({behavior:"smooth",block:"center"}))}else if(c){c.material.color.set(c.userData.originalColor),c.scale.set(1,1,1);const i=T.indexOf(c);i>=0&&h[i]&&(h[i].style.backgroundColor="rgba(0,0,0,0.3)",h[i].style.fontWeight="normal",h[i].dataset.selected="false"),c=null,x.style.display="none"}});const ue=()=>{if(c&&x.style.display!=="none"){const o=new e.Vector3;o.copy(c.position),o.project(B);const r=(o.x*.5+.5)*s.clientWidth,t=(-o.y*.5+.5)*s.clientHeight;c.position.z>0?(x.style.display="block",x.style.left=`${r}px`,x.style.top=`${t-20}px`):x.style.display="none"}},me=o=>{document.querySelectorAll(".category-filter").forEach(t=>{t.classList.remove("active"),t.style.backgroundColor="rgba(255,255,255,0.1)"});const r=document.querySelector(`.category-filter[data-category="${o}"]`);r&&(r.classList.add("active"),r.style.backgroundColor="rgba(255,255,255,0.3)"),h.forEach(t=>{o==="all"||t.dataset.category===o?t.style.display="flex":t.style.display="none"}),T.forEach(t=>{const i=o==="all"||t.userData.category===o;t.visible=i,t.userData.trail&&(t.userData.trail.visible=i)}),Object.entries(le).forEach(([t,i])=>{i.visible=o==="all"||t===o})};document.querySelectorAll(".category-filter").forEach(o=>{o.addEventListener("click",()=>{me(o.dataset.category)})});let re=0,pe=0,_=0,Y=0,ie=!0,J=.005;s.addEventListener("mousemove",o=>{ie=!1;const r=s.getBoundingClientRect(),t=r.width/2,i=r.height/2,u=(o.clientX-r.left-t)/t,n=(o.clientY-r.top-i)/i;re=u*.5,pe=n*.3});let K;s.addEventListener("mousemove",()=>{clearTimeout(K),K=setTimeout(()=>{ie=!0},3e3)}),h.forEach((o,r)=>{o.addEventListener("click",()=>{if(T.forEach((t,i)=>{t.material.color.set(t.userData.originalColor),t.scale.set(1,1,1),h[i]&&(h[i].style.backgroundColor="rgba(0,0,0,0.3)",h[i].style.fontWeight="normal",h[i].dataset.selected="false")}),c&&T.indexOf(c)===r){c=null,x.style.display="none";return}c=T[r],c.material.color.set(16711680),c.scale.set(2,2,2),o.style.backgroundColor="rgba(255,0,0,0.3)",o.style.fontWeight="bold",o.dataset.selected="true",x.textContent=c.userData.skill,x.style.display="block",x.style.backgroundColor=`rgba(${c.userData.originalColor>>16&255}, ${c.userData.originalColor>>8&255}, ${c.userData.originalColor&255}, 0.8)`,ue()})});let Z=0,ce=0,V=0;const X=o=>{requestAnimationFrame(X),ce=(o-V)/1e3,V=o,Z+=ce,ie?_+=J:(_+=(re-_)*.05,Y+=(pe-Y)*.05),q.rotation.y=_,q.rotation.x=Y,oe.rotation.y=q.rotation.y,oe.rotation.x=q.rotation.x,Object.values(le).forEach((r,t)=>{r.rotation.z+=.001*(t+1)}),ne.rotation.y=Z*.05,ne.rotation.z=Z*.02,T.forEach(r=>{if(r!==c){const t=r.userData.phi,u=r.userData.theta+q.rotation.y,n=2.5*Math.cos(u)*Math.sin(t),y=2.5*Math.cos(t),l=2.5*Math.sin(u)*Math.sin(t),f=Math.cos(q.rotation.x),C=Math.sin(q.rotation.x),b=l*f-y*C,v=l*C+y*f;if(r.position.set(n,b,v),r.userData.halo){const w=1+.1*Math.sin(Z*3+t*5);r.userData.halo.scale.set(w,w,w)}if(r.userData.trail){const w=r.userData.trailPositions;if(r.userData.trailUpdateCounter++%5===0){for(let D=w.length/3-1;D>0;D--)w[D*3]=w[(D-1)*3],w[D*3+1]=w[(D-1)*3+1],w[D*3+2]=w[(D-1)*3+2];w[0]=r.position.x,w[1]=r.position.y,w[2]=r.position.z,r.userData.trail.geometry.attributes.position.needsUpdate=!0}}}}),ue(),W.uniforms.viewVector.value=new e.Vector3().subVectors(B.position,oe.position),te.render(G,B),U.parentNode&&U.parentNode.removeChild(U)};window.addEventListener("resize",()=>{const o=s.clientWidth,r=s.clientHeight;B.aspect=o/r,B.updateProjectionMatrix(),te.setSize(o,r)}),setTimeout(()=>{const o=new Event("resize");window.dispatchEvent(o)},100),X(0)},Se=()=>{const e=document.querySelector(".skills-info-display");if(!e)return;const s=e.parentNode;s&&s.classList.add("globe-skills-wrapper");const d=()=>{const g=window.innerWidth<=600;s&&(s.style.flexDirection=g?"column":"row")};d(),window.addEventListener("resize",d)};be();ve();xe();Ce();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".cursor-container");e&&e.remove()});document.addEventListener("DOMContentLoaded",()=>{console.log("DOM loaded, checking for THREE..."),window.THREE?(console.log("THREE is available, initializing components"),setTimeout(()=>{try{Me(),console.log("Background initialized"),setTimeout(()=>{try{Ee(),console.log("Skills globe initialized"),Se()}catch(e){console.error("Skills globe error:",e)}},200)}catch(e){console.error("Three background error:",e)}},500)):(console.error("THREE is not available from CDN"),ke())});const ke=()=>{const e=document.querySelector(".skills-container");if(e){e.style.display="flex";const s=document.createElement("div");s.className="threejs-error",s.innerHTML=`
      <p>3D visualization couldn't be loaded.</p>
      <p>Please ensure WebGL is enabled in your browser or try a different browser.</p>
    `,e.parentNode.insertBefore(s,e.nextSibling)}};document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(s){s.preventDefault();const d=document.querySelector(this.getAttribute("href"));d&&window.scrollTo({top:d.offsetTop-100,behavior:"smooth"})})});const ze=document.querySelectorAll("section[id]");window.addEventListener("scroll",()=>{let e="";ze.forEach(s=>{const d=s.offsetTop;s.clientHeight,pageYOffset>=d-200&&(e=s.getAttribute("id"))}),document.querySelectorAll(".header__link a").forEach(s=>{s.classList.remove("active"),s.getAttribute("href")===`#${e}`&&s.classList.add("active")})});
